{"ast":null,"code":"import { useLayoutEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useSelector } from \"react-redux\";\nimport IconButton from \"../components/IconButton\";\nimport List from \"../components/MealDetail/List\";\nimport Subtitle from \"../components/MealDetail/Subtitle\";\nimport MealDetails from \"../components/MealDetails\";\nimport { MEALS } from \"../data/dummy-data\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction MealDetailScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var favoriteMealIds = useSelector(function (state) {\n    return state.favoriteMeals;\n  });\n  var mealId = route.params.mealId;\n  var selectedMeal = MEALS.find(function (meal) {\n    return meal.id === mealId;\n  });\n  var mealIsFavorite = favoriteMealsCtx.ids.includes(mealId);\n\n  function changeFavoriteStatusHandler() {\n    if (mealIsFavorite) {\n      favoriteMealsCtx.removeFavorite(mealId);\n    } else {\n      favoriteMealsCtx.addFavorite(mealId);\n    }\n  }\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(IconButton, {\n          icon: mealIsFavorite ? \"star\" : \"star-outline\",\n          color: \"white\",\n          onPress: changeFavoriteStatusHandler\n        });\n      }\n    });\n  }, [navigation, changeFavoriteStatusHandler]);\n  return _jsxs(ScrollView, {\n    style: styles.rootContainer,\n    children: [_jsx(Image, {\n      style: styles.image,\n      source: {\n        uri: selectedMeal.imageUrl\n      }\n    }), _jsx(Text, {\n      style: styles.title,\n      children: selectedMeal.title\n    }), _jsx(MealDetails, {\n      duration: selectedMeal.duration,\n      complexity: selectedMeal.complexity,\n      affordability: selectedMeal.affordability,\n      textStyle: styles.detailText\n    }), _jsx(View, {\n      style: styles.listOuterContainer,\n      children: _jsxs(View, {\n        style: styles.listContainer,\n        children: [_jsx(Subtitle, {\n          children: \"Ingredients\"\n        }), _jsx(List, {\n          data: selectedMeal.ingredients\n        }), _jsx(Subtitle, {\n          children: \"Steps\"\n        }), _jsx(List, {\n          data: selectedMeal.steps\n        })]\n      })\n    })]\n  });\n}\n\nexport default MealDetailScreen;\nvar styles = StyleSheet.create({\n  rootContainer: {\n    marginBottom: 32\n  },\n  image: {\n    width: \"100%\",\n    height: 350\n  },\n  title: {\n    fontWeight: \"bold\",\n    fontSize: 24,\n    margin: 8,\n    textAlign: \"center\",\n    color: \"white\"\n  },\n  detailText: {\n    color: \"white\"\n  },\n  listOuterContainer: {\n    alignItems: \"center\"\n  },\n  listContainer: {\n    width: \"80%\"\n  }\n});","map":{"version":3,"names":["useLayoutEffect","useSelector","IconButton","List","Subtitle","MealDetails","MEALS","MealDetailScreen","route","navigation","favoriteMealIds","state","favoriteMeals","mealId","params","selectedMeal","find","meal","id","mealIsFavorite","favoriteMealsCtx","ids","includes","changeFavoriteStatusHandler","removeFavorite","addFavorite","setOptions","headerRight","styles","rootContainer","image","uri","imageUrl","title","duration","complexity","affordability","detailText","listOuterContainer","listContainer","ingredients","steps","StyleSheet","create","marginBottom","width","height","fontWeight","fontSize","margin","textAlign","color","alignItems"],"sources":["/home/harrytimbog/code/Harrytimbog/react-native/meals-native-app/screens/MealDetailScreen.js"],"sourcesContent":["import { useLayoutEffect } from \"react\";\nimport { View, Text, Image, StyleSheet, ScrollView } from \"react-native\";\nimport { useSelector } from \"react-redux\";\n\nimport IconButton from \"../components/IconButton\";\nimport List from \"../components/MealDetail/List\";\nimport Subtitle from \"../components/MealDetail/Subtitle\";\nimport MealDetails from \"../components/MealDetails\";\nimport { MEALS } from \"../data/dummy-data\";\n// import { FavoritesContext } from \"../store/context/favorites-context\";\n\nfunction MealDetailScreen({ route, navigation }) {\n  // const favoriteMealsCtx = useContext(FavoritesContext);\n  const favoriteMealIds = useSelector((state) => state.favoriteMeals);\n\n  const mealId = route.params.mealId;\n\n  const selectedMeal = MEALS.find((meal) => meal.id === mealId);\n\n  const mealIsFavorite = favoriteMealsCtx.ids.includes(mealId);\n\n  function changeFavoriteStatusHandler() {\n    if (mealIsFavorite) {\n      favoriteMealsCtx.removeFavorite(mealId);\n    } else {\n      favoriteMealsCtx.addFavorite(mealId);\n    }\n  }\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => {\n        return (\n          <IconButton\n            icon={mealIsFavorite ? \"star\" : \"star-outline\"}\n            color=\"white\"\n            onPress={changeFavoriteStatusHandler}\n          />\n        );\n      },\n    });\n  }, [navigation, changeFavoriteStatusHandler]);\n\n  return (\n    <ScrollView style={styles.rootContainer}>\n      <Image style={styles.image} source={{ uri: selectedMeal.imageUrl }} />\n      <Text style={styles.title}>{selectedMeal.title}</Text>\n      <MealDetails\n        duration={selectedMeal.duration}\n        complexity={selectedMeal.complexity}\n        affordability={selectedMeal.affordability}\n        textStyle={styles.detailText}\n      />\n      <View style={styles.listOuterContainer}>\n        <View style={styles.listContainer}>\n          <Subtitle>Ingredients</Subtitle>\n          <List data={selectedMeal.ingredients} />\n          <Subtitle>Steps</Subtitle>\n          <List data={selectedMeal.steps} />\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nexport default MealDetailScreen;\n\nconst styles = StyleSheet.create({\n  rootContainer: {\n    marginBottom: 32,\n  },\n  image: {\n    width: \"100%\",\n    height: 350,\n  },\n  title: {\n    fontWeight: \"bold\",\n    fontSize: 24,\n    margin: 8,\n    textAlign: \"center\",\n    color: \"white\",\n  },\n  detailText: {\n    color: \"white\",\n  },\n  listOuterContainer: {\n    alignItems: \"center\",\n  },\n  listContainer: {\n    width: \"80%\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}